{"ast":null,"code":"var _jsxFileName = \"/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/Review.js\";\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport Rating from '@material-ui/lab/Rating';\nimport { productsApi } from 'api';\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n`;\nconst Content = styled.div`\n  border-radius: 4px;\n  width: 80vw;\n  margin-bottom: 30px;\n`;\nconst ContentBox = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-top: 10px;\n  font-size: 12px;\n`;\nconst Title = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: ${props => props.theme.boldPinkBorder};\n  border-radius: 4px;\n  width: 200px;\n  padding: 10px;\n`;\nconst Text = styled.div`\n  font-size: 20px;\n  font-weight: 600;\n  margin-right: 10px;\n`;\nconst EnterBox = styled.div`\n  display: flex;\n  justify-content: center;\n`;\nconst EnterBorder = styled.div`\n  border-radius: 5px;\n  background-color: ${props => props.theme.pinkColor};\n  width: 900px;\n`;\nconst EnterForm = styled.form``;\nconst EnterList = styled.div`\n  display: flex;\n  justify-content: left;\n  background-color: ${props => props.theme.whiteColor};\n  border: ${props => props.theme.pinkBorder};\n  border-radius: 12px;\n  padding: 30px;\n  margin: 30px 70px;\n  :nth-child(5) {\n    margin-bottom: 50px;\n  }\n`;\nconst FormTitle = styled.div`\n  width: 150px;\n`;\nconst ReviewImage = styled.div``;\nconst ImageInput = styled.input`\n  border: 1px solid black;\n  border-radius: 3px;\n  width: 500px;\n  height: 100px;\n  font-size: 12px;\n  outline: none;\n`;\nconst ReviewText = styled.textarea`\n  border: ${props => props.theme.mainBorder};\n  border-radius: 4px;\n  width: 600px;\n  height: 400px;\n  padding-top: 5px;\n  padding-left: 10px;\n  font-size: 13px;\n  overflow: auto;\n  outline: none;\n`;\nconst TitleText = styled.textarea`\n  border: ${props => props.theme.mainBorder};\n  border-radius: 4px;\n  width: 600px;\n  height: 50px;\n  padding-top: 5px;\n  padding-left: 10px;\n  font-size: 13px;\n  overflow: auto;\n  outline: none;\n`;\nconst SubmitBox = styled.input`\n  border: none;\n  border-radius: 4px;\n  background-color: ${props => props.theme.whiteColor};\n  margin-bottom: 20px;\n  width: 100px;\n  height: 40px;\n  outline: none;\n`;\nconst FixedContent = styled.div`\n  font-size: 16px;\n  font-weight: 700;\n`;\n\nconst Review = props => {\n  const brandName = props.location.state.brand;\n  const itemName = props.location.state.item;\n  const id = props.location.state.id;\n  const history = useHistory();\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    if (star < 0.5) {\n      alert('별점을 입력해 주세요.');\n    } else if (title.length < 1) {\n      alert('제목을 입력해 주세요.');\n    } else if (content.length < 1) {\n      alert('내용을 입력해 주세요.');\n    } else {\n      const data = new FormData();\n      data.append('image', reviewImage);\n      data.append('id', props.location.state.id);\n      data.append('rating', star * 2);\n      data.append('title', title);\n      data.append('content', content);\n      const purchaseId = props.location.state.purchaseId;\n\n      try {\n        await productsApi.addReview(data, purchaseId);\n        alert('제출 되었습니다.');\n        history.push(`/products/${id}`);\n      } catch {\n        return;\n      }\n    }\n  };\n\n  const [star, setStar] = useState(0);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [reviewImage, setReviewImage] = useState(null);\n\n  const updateTitle = event => {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setTitle(value);\n  };\n\n  const updateText = event => {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setContent(value);\n  };\n\n  const handleImage = event => {\n    setReviewImage(event.target.files[0]);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ContentBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, \"\\uAD6C\\uB9E4\\uD3C9 \\uC791\\uC131\\uD558\\uAE30\"))), /*#__PURE__*/React.createElement(EnterBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(EnterBorder, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(EnterForm, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(EnterList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"1. \\uC791\\uAC00\\uBA85/\\uBE0C\\uB79C\\uB4DC\\uBA85\"), /*#__PURE__*/React.createElement(FixedContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, brandName)), /*#__PURE__*/React.createElement(EnterList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, \"2. \\uC81C\\uD488\\uBA85\"), /*#__PURE__*/React.createElement(FixedContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, itemName)), /*#__PURE__*/React.createElement(EnterList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, \"3. \\uBCC4\\uC810\"), /*#__PURE__*/React.createElement(Rating, {\n    name: \"star-rating\",\n    size: \"large\",\n    value: star,\n    precision: 0.5,\n    onChange: (event, newValue) => {\n      setStar(newValue);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(EnterList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }, \"4. \\uC81C\\uBAA9\"), /*#__PURE__*/React.createElement(TitleText, {\n    type: \"text\",\n    placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\",\n    onChange: updateTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(EnterList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, \"5. \\uC81C\\uD488\\uC0AC\\uC9C4\"), /*#__PURE__*/React.createElement(ReviewImage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ImageInput, {\n    type: \"file\",\n    name: \"image\",\n    onChange: handleImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(EnterList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }, \"6. \\uAD6C\\uB9E4\\uD3C9\"), /*#__PURE__*/React.createElement(ReviewText, {\n    type: \"text\",\n    placeholder: \"\\uAD6C\\uB9E4\\uD3C9\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\",\n    onChange: updateText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(ContentBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(SubmitBox, {\n    type: \"submit\",\n    value: \"\\uC81C\\uCD9C\\uD558\\uAE30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  })))))));\n};\n\nexport default Review;","map":{"version":3,"sources":["/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/Review.js"],"names":["React","useState","styled","useHistory","Rating","productsApi","Container","div","Content","ContentBox","Title","props","theme","boldPinkBorder","Text","EnterBox","EnterBorder","pinkColor","EnterForm","form","EnterList","whiteColor","pinkBorder","FormTitle","ReviewImage","ImageInput","input","ReviewText","textarea","mainBorder","TitleText","SubmitBox","FixedContent","Review","brandName","location","state","brand","itemName","item","id","history","handleSubmit","event","preventDefault","star","alert","title","length","content","data","FormData","append","reviewImage","purchaseId","addReview","push","setStar","setTitle","setContent","setReviewImage","updateTitle","target","value","updateText","handleImage","files","newValue"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport Rating from '@material-ui/lab/Rating';\nimport { productsApi } from 'api';\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst Content = styled.div`\n  border-radius: 4px;\n  width: 80vw;\n  margin-bottom: 30px;\n`;\n\nconst ContentBox = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-top: 10px;\n  font-size: 12px;\n`;\n\nconst Title = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: ${(props) => props.theme.boldPinkBorder};\n  border-radius: 4px;\n  width: 200px;\n  padding: 10px;\n`;\n\nconst Text = styled.div`\n  font-size: 20px;\n  font-weight: 600;\n  margin-right: 10px;\n`;\n\nconst EnterBox = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst EnterBorder = styled.div`\n  border-radius: 5px;\n  background-color: ${(props) => props.theme.pinkColor};\n  width: 900px;\n`;\n\nconst EnterForm = styled.form``;\n\nconst EnterList = styled.div`\n  display: flex;\n  justify-content: left;\n  background-color: ${(props) => props.theme.whiteColor};\n  border: ${(props) => props.theme.pinkBorder};\n  border-radius: 12px;\n  padding: 30px;\n  margin: 30px 70px;\n  :nth-child(5) {\n    margin-bottom: 50px;\n  }\n`;\n\nconst FormTitle = styled.div`\n  width: 150px;\n`;\n\nconst ReviewImage = styled.div``;\nconst ImageInput = styled.input`\n  border: 1px solid black;\n  border-radius: 3px;\n  width: 500px;\n  height: 100px;\n  font-size: 12px;\n  outline: none;\n`;\nconst ReviewText = styled.textarea`\n  border: ${(props) => props.theme.mainBorder};\n  border-radius: 4px;\n  width: 600px;\n  height: 400px;\n  padding-top: 5px;\n  padding-left: 10px;\n  font-size: 13px;\n  overflow: auto;\n  outline: none;\n`;\n\nconst TitleText = styled.textarea`\n  border: ${(props) => props.theme.mainBorder};\n  border-radius: 4px;\n  width: 600px;\n  height: 50px;\n  padding-top: 5px;\n  padding-left: 10px;\n  font-size: 13px;\n  overflow: auto;\n  outline: none;\n`;\n\nconst SubmitBox = styled.input`\n  border: none;\n  border-radius: 4px;\n  background-color: ${(props) => props.theme.whiteColor};\n  margin-bottom: 20px;\n  width: 100px;\n  height: 40px;\n  outline: none;\n`;\n\nconst FixedContent = styled.div`\n  font-size: 16px;\n  font-weight: 700;\n`;\n\nconst Review = (props) => {\n  const brandName = props.location.state.brand;\n  const itemName = props.location.state.item;\n  const id = props.location.state.id;\n\n  const history = useHistory();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (star < 0.5) {\n      alert('별점을 입력해 주세요.');\n    } else if (title.length < 1) {\n      alert('제목을 입력해 주세요.');\n    } else if (content.length < 1) {\n      alert('내용을 입력해 주세요.');\n    } else {\n      const data = new FormData();\n      data.append('image', reviewImage);\n      data.append('id', props.location.state.id);\n      data.append('rating', star * 2);\n      data.append('title', title);\n      data.append('content', content);\n\n      const purchaseId = props.location.state.purchaseId;\n\n      try {\n        await productsApi.addReview(data, purchaseId);\n        alert('제출 되었습니다.');\n        history.push(`/products/${id}`);\n      } catch {\n        return;\n      }\n    }\n  };\n\n  const [star, setStar] = useState(0);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [reviewImage, setReviewImage] = useState(null);\n  const updateTitle = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setTitle(value);\n  };\n\n  const updateText = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setContent(value);\n  };\n\n  const handleImage = (event) => {\n    setReviewImage(event.target.files[0]);\n  };\n\n  return (\n    <Container>\n      <Content>\n        <ContentBox>\n          <Title>\n            <Text>구매평 작성하기</Text>\n          </Title>\n        </ContentBox>\n        <EnterBox>\n          <EnterBorder>\n            <EnterForm onSubmit={handleSubmit}>\n              <EnterList>\n                <FormTitle>1. 작가명/브랜드명</FormTitle>\n                <FixedContent>{brandName}</FixedContent>\n              </EnterList>\n              <EnterList>\n                <FormTitle>2. 제품명</FormTitle>\n                <FixedContent>{itemName}</FixedContent>\n              </EnterList>\n              <EnterList>\n                <FormTitle>3. 별점</FormTitle>\n                <Rating\n                  name='star-rating'\n                  size='large'\n                  value={star}\n                  precision={0.5}\n                  onChange={(event, newValue) => {\n                    setStar(newValue);\n                  }}\n                />\n              </EnterList>\n              <EnterList>\n                <FormTitle>4. 제목</FormTitle>\n                <TitleText\n                  type='text'\n                  placeholder='제목을 입력해 주세요.'\n                  onChange={updateTitle}\n                />\n              </EnterList>\n              <EnterList>\n                <FormTitle>5. 제품사진</FormTitle>\n                <ReviewImage>\n                  <ImageInput type='file' name='image' onChange={handleImage} />\n                </ReviewImage>\n              </EnterList>\n              <EnterList>\n                <FormTitle>6. 구매평</FormTitle>\n                <ReviewText\n                  type='text'\n                  placeholder='구매평을 입력해 주세요.'\n                  onChange={updateText}\n                />\n              </EnterList>\n              <ContentBox>\n                <SubmitBox type='submit' value='제출하기' />\n              </ContentBox>\n            </EnterForm>\n          </EnterBorder>\n        </EnterBox>\n      </Content>\n    </Container>\n  );\n};\n\nexport default Review;\n"]},"metadata":{},"sourceType":"module"}