{"ast":null,"code":"var _jsxFileName = \"/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/SignUpByEmail.js\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { usersApi } from \"api\";\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n`;\nconst Content = styled.div`\n  border-radius: 4px;\n  width: 80vw;\n  margin-bottom: 30px;\n`;\nconst Box = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-top: 10px;\n  font-size: 12px;\n`;\nconst Title = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: ${props => props.theme.boldPinkBorder};\n  border-radius: 4px;\n  width: 200px;\n  padding: 10px;\n`;\nconst Text = styled.div`\n  font-size: 18px;\n  :not(:last-child) {\n    font-size: 24px;\n    font-weight: 800;\n    margin-right: 10px;\n  }\n`;\nconst SignUpBox = styled.div`\n  display: flex;\n  justify-content: center;\n`;\nconst SignUpBorder = styled.div`\n  border: ${props => props.theme.mainBorder};\n  background-color: #ffffff;\n  width: 450px;\n  padding: 40px;\n`;\nconst SectionTitle = styled.div`\n  width: 80px;\n  font-size: 17px;\n  font-weight: 600;\n  padding: 5px;\n`;\nconst SectionBox = styled.input`\n  border: ${props => props.theme.mainBorder};\n  border-radius: 4px;\n  width: 300px;\n  height: 35px;\n  padding-left: 10px;\n  margin: 5px 0px;\n  font-size: 12px;\n  outline: none;\n`;\nconst Section = styled.div`\n  margin-bottom: 20px;\n`;\nconst SubmitContainer = styled.div`\n  width: 100%;\n  height: 35px;\n  display: flex;\n  justify-content: center;\n`;\nconst SubmitBtn = styled.button`\n  border: none;\n  border-radius: 4px;\n  background-color: ${props => props.theme.pinkColor};\n  margin: 20px 0px;\n  width: 250px;\n  height: 40px;\n  outline: none;\n`;\nconst Check = styled.div`\n  padding-top: 10px;\n  margin-left: 5px;\n  font-size: 12px;\n  color: red;\n`;\nconst Checked = styled.span`\n  font-size: 12px;\n  color: blue;\n`;\n\nconst SignUpByEmail = () => {\n  const [id, setId] = useState(\"\");\n  const [pw, setPw] = useState(\"\");\n  const [pwCheck, setPwCheck] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phoneNum, setPhoneNum] = useState(\"\");\n  const [checkId, setCheckId] = useState(0);\n  const [checkPw, setCheckPw] = useState(0);\n  const [checkName, setCheckName] = useState(0);\n  const [checkEmail, setCheckEmail] = useState(false);\n\n  function handleId(event) {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setId(value);\n  }\n\n  function handlePw(event) {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setPw(value);\n  }\n\n  function handlePwCheck(event) {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setPwCheck(value);\n  }\n\n  function handleName(event) {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setName(value);\n  }\n\n  function handleEmail(event) {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setEmail(value);\n  }\n\n  function handlePhoneNum(event) {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setPhoneNum(value);\n  }\n\n  const confirmId = async () => {\n    // checkId === 3 인 경우 회원가입 가능\n    if (id === \"\") {\n      setCheckId(0);\n    } else if (id.length < 4 || id.length > 12) {\n      setCheckId(1);\n    } else {\n      const {\n        data: useId\n      } = await usersApi.checkId(id);\n\n      if (useId === \"used id\") {\n        setCheckId(2);\n      } else {\n        setCheckId(3);\n      }\n    }\n  };\n\n  const confirmPw = () => {\n    // checkPw === false 인 경우 회원가입 가능\n    if (pw === \"\" && pwCheck === \"\") {\n      setCheckPw(0);\n    } else if (pw !== pwCheck) {\n      setCheckPw(true);\n    } else {\n      setCheckPw(false);\n    }\n  };\n\n  const confirmName = async () => {\n    // checkName === 3 인 경우 회원가입 가능\n    if (name === \"\") {\n      setCheckName(0);\n    } else if (name.length < 3 || name.length > 9) {\n      setCheckName(1);\n    } else {\n      const {\n        data: useName\n      } = await usersApi.checkName(name);\n\n      if (useName === \"used name\") {\n        setCheckName(2);\n      } else {\n        setCheckName(3);\n      }\n    }\n  };\n\n  const confirmEmail = () => {\n    // checkEmail === false 인 경우 회원가입 가능\n    if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\n      setCheckEmail(false);\n    } else {\n      setCheckEmail(true);\n    }\n  };\n\n  const history = useHistory();\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    if (checkId === 3 && checkPw === false && checkName === 3 && checkEmail === false) {\n      try {\n        await usersApi.signup(id, pw, pwCheck, name, email, phoneNum);\n        history.push(\"/login\");\n      } catch {\n        alert(\"Error\");\n      }\n    } else {\n      alert(\"Check again\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, \"DORUS\"), /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"))), /*#__PURE__*/React.createElement(SignUpBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SignUpBorder, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Section, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SectionTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(SectionBox, {\n    onChange: handleId,\n    onBlur: confirmId,\n    type: \"text\",\n    placeholder: \"\\uC0AC\\uC6A9\\uD558\\uC2E4 ID\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Check, {\n    style: {\n      visibility: checkId === 0 ? \"hidden\" : \"\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }, checkId === 1 ? \"아이디는 4~12자리 이어야 합니다.\" : checkId === 2 ? \"이미 사용중인 아이디입니다.\" : /*#__PURE__*/React.createElement(Checked, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 19\n    }\n  }, \"\\uC0AC\\uC6A9\\uAC00\\uB2A5\\uD55C \\uC544\\uC774\\uB514\\uC785\\uB2C8\\uB2E4.\"))), /*#__PURE__*/React.createElement(Section, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SectionTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 15\n    }\n  }, \"\\uBE44\\uBC00\\uBC88\\uD638\"), /*#__PURE__*/React.createElement(SectionBox, {\n    onChange: handlePw,\n    type: \"password\",\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(SectionBox, {\n    onChange: handlePwCheck,\n    onBlur: confirmPw,\n    type: \"password\",\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uB2E4\\uC2DC \\uD55C\\uBC88 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Check, {\n    style: {\n      visibility: checkPw === 0 ? \"hidden\" : \"\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }, checkPw ? \"비밀번호가 일치하지 않습니다\" : /*#__PURE__*/React.createElement(Checked, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 19\n    }\n  }, \"\\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC77C\\uCE58\\uD569\\uB2C8\\uB2E4\"))), /*#__PURE__*/React.createElement(Section, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SectionTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 15\n    }\n  }, \"\\uB2C9\\uB124\\uC784\"), /*#__PURE__*/React.createElement(SectionBox, {\n    onChange: handleName,\n    onBlur: confirmName,\n    type: \"text\",\n    placeholder: \"\\uB2C9\\uB124\\uC784\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Check, {\n    style: {\n      visibility: checkName === 0 ? \"hidden\" : \"\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 15\n    }\n  }, checkName === 1 ? \"닉네임은 3~9자리 이어야 합니다.\" : checkName === 2 ? \"이미 사용중인 닉네임입니다.\" : /*#__PURE__*/React.createElement(Checked, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 19\n    }\n  }, \"\\uC0AC\\uC6A9\\uAC00\\uB2A5\\uD55C \\uB2C9\\uB124\\uC784\\uC785\\uB2C8\\uB2E4.\"))), /*#__PURE__*/React.createElement(Section, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SectionTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 15\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(SectionBox, {\n    onChange: handleEmail,\n    onBlur: confirmEmail,\n    type: \"text\",\n    placeholder: \"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Check, {\n    style: {\n      visibility: checkEmail ? \"\" : \"hidden\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 15\n    }\n  }, \"\\uC62C\\uBC14\\uB974\\uC9C0 \\uC54A\\uC740 \\uC774\\uBA54\\uC77C \\uD615\\uC2DD\\uC785\\uB2C8\\uB2E4.\")), /*#__PURE__*/React.createElement(Section, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SectionTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 15\n    }\n  }, \"\\uC804\\uD654\\uBC88\\uD638\"), /*#__PURE__*/React.createElement(SectionBox, {\n    onChange: handlePhoneNum,\n    type: \"text\",\n    placeholder: \"\\uC804\\uD654\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(SubmitContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SubmitBtn, {\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 15\n    }\n  }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"))))));\n};\n\nexport default SignUpByEmail;","map":{"version":3,"sources":["/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/SignUpByEmail.js"],"names":["React","useState","useHistory","styled","usersApi","Container","div","Content","Box","Title","props","theme","boldPinkBorder","Text","SignUpBox","SignUpBorder","mainBorder","SectionTitle","SectionBox","input","Section","SubmitContainer","SubmitBtn","button","pinkColor","Check","Checked","span","SignUpByEmail","id","setId","pw","setPw","pwCheck","setPwCheck","name","setName","email","setEmail","phoneNum","setPhoneNum","checkId","setCheckId","checkPw","setCheckPw","checkName","setCheckName","checkEmail","setCheckEmail","handleId","event","target","value","handlePw","handlePwCheck","handleName","handleEmail","handlePhoneNum","confirmId","length","data","useId","confirmPw","confirmName","useName","confirmEmail","test","history","handleSubmit","preventDefault","signup","push","alert","visibility"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { usersApi } from \"api\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst Content = styled.div`\n  border-radius: 4px;\n  width: 80vw;\n  margin-bottom: 30px;\n`;\n\nconst Box = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-top: 10px;\n  font-size: 12px;\n`;\n\nconst Title = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: ${(props) => props.theme.boldPinkBorder};\n  border-radius: 4px;\n  width: 200px;\n  padding: 10px;\n`;\n\nconst Text = styled.div`\n  font-size: 18px;\n  :not(:last-child) {\n    font-size: 24px;\n    font-weight: 800;\n    margin-right: 10px;\n  }\n`;\n\nconst SignUpBox = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst SignUpBorder = styled.div`\n  border: ${(props) => props.theme.mainBorder};\n  background-color: #ffffff;\n  width: 450px;\n  padding: 40px;\n`;\n\nconst SectionTitle = styled.div`\n  width: 80px;\n  font-size: 17px;\n  font-weight: 600;\n  padding: 5px;\n`;\nconst SectionBox = styled.input`\n  border: ${(props) => props.theme.mainBorder};\n  border-radius: 4px;\n  width: 300px;\n  height: 35px;\n  padding-left: 10px;\n  margin: 5px 0px;\n  font-size: 12px;\n  outline: none;\n`;\n\nconst Section = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst SubmitContainer = styled.div`\n  width: 100%;\n  height: 35px;\n  display: flex;\n  justify-content: center;\n`;\n\nconst SubmitBtn = styled.button`\n  border: none;\n  border-radius: 4px;\n  background-color: ${(props) => props.theme.pinkColor};\n  margin: 20px 0px;\n  width: 250px;\n  height: 40px;\n  outline: none;\n`;\n\nconst Check = styled.div`\n  padding-top: 10px;\n  margin-left: 5px;\n  font-size: 12px;\n  color: red;\n`;\n\nconst Checked = styled.span`\n  font-size: 12px;\n  color: blue;\n`;\n\nconst SignUpByEmail = () => {\n  const [id, setId] = useState(\"\");\n  const [pw, setPw] = useState(\"\");\n  const [pwCheck, setPwCheck] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phoneNum, setPhoneNum] = useState(\"\");\n  const [checkId, setCheckId] = useState(0);\n  const [checkPw, setCheckPw] = useState(0);\n  const [checkName, setCheckName] = useState(0);\n  const [checkEmail, setCheckEmail] = useState(false);\n\n  function handleId(event) {\n    const {\n      target: { value },\n    } = event;\n    setId(value);\n  }\n\n  function handlePw(event) {\n    const {\n      target: { value },\n    } = event;\n    setPw(value);\n  }\n\n  function handlePwCheck(event) {\n    const {\n      target: { value },\n    } = event;\n    setPwCheck(value);\n  }\n\n  function handleName(event) {\n    const {\n      target: { value },\n    } = event;\n    setName(value);\n  }\n\n  function handleEmail(event) {\n    const {\n      target: { value },\n    } = event;\n    setEmail(value);\n  }\n\n  function handlePhoneNum(event) {\n    const {\n      target: { value },\n    } = event;\n    setPhoneNum(value);\n  }\n\n  const confirmId = async () => {\n    // checkId === 3 인 경우 회원가입 가능\n    if (id === \"\") {\n      setCheckId(0);\n    } else if (id.length < 4 || id.length > 12) {\n      setCheckId(1);\n    } else {\n      const { data: useId } = await usersApi.checkId(id);\n      if (useId === \"used id\") {\n        setCheckId(2);\n      } else {\n        setCheckId(3);\n      }\n    }\n  };\n\n  const confirmPw = () => {\n    // checkPw === false 인 경우 회원가입 가능\n    if (pw === \"\" && pwCheck === \"\") {\n      setCheckPw(0);\n    } else if (pw !== pwCheck) {\n      setCheckPw(true);\n    } else {\n      setCheckPw(false);\n    }\n  };\n\n  const confirmName = async () => {\n    // checkName === 3 인 경우 회원가입 가능\n    if (name === \"\") {\n      setCheckName(0);\n    } else if (name.length < 3 || name.length > 9) {\n      setCheckName(1);\n    } else {\n      const { data: useName } = await usersApi.checkName(name);\n      if (useName === \"used name\") {\n        setCheckName(2);\n      } else {\n        setCheckName(3);\n      }\n    }\n  };\n\n  const confirmEmail = () => {\n    // checkEmail === false 인 경우 회원가입 가능\n    if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\n      setCheckEmail(false);\n    } else {\n      setCheckEmail(true);\n    }\n  };\n\n  const history = useHistory();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (\n      checkId === 3 &&\n      checkPw === false &&\n      checkName === 3 &&\n      checkEmail === false\n    ) {\n      try {\n        await usersApi.signup(id, pw, pwCheck, name, email, phoneNum);\n        history.push(\"/login\");\n      } catch {\n        alert(\"Error\");\n      }\n    } else {\n      alert(\"Check again\");\n    }\n  };\n\n  return (\n    <Container>\n      <Content>\n        <Box>\n          <Title>\n            <Text>DORUS</Text>\n            <Text>회원가입</Text>\n          </Title>\n        </Box>\n        <SignUpBox>\n          <SignUpBorder>\n            <Section>\n              <SectionTitle>ID</SectionTitle>\n              <SectionBox\n                onChange={handleId}\n                onBlur={confirmId}\n                type=\"text\"\n                placeholder=\"사용하실 ID를 입력하세요.\"\n              />\n              <Check style={{ visibility: checkId === 0 ? \"hidden\" : \"\" }}>\n                {checkId === 1 ? (\n                  \"아이디는 4~12자리 이어야 합니다.\"\n                ) : checkId === 2 ? (\n                  \"이미 사용중인 아이디입니다.\"\n                ) : (\n                  <Checked>사용가능한 아이디입니다.</Checked>\n                )}\n              </Check>\n            </Section>\n            <Section>\n              <SectionTitle>비밀번호</SectionTitle>\n              <SectionBox\n                onChange={handlePw}\n                type=\"password\"\n                placeholder=\"비밀번호를 입력하세요.\"\n              />\n              <SectionBox\n                onChange={handlePwCheck}\n                onBlur={confirmPw}\n                type=\"password\"\n                placeholder=\"비밀번호를 다시 한번 입력하세요.\"\n              />\n              <Check style={{ visibility: checkPw === 0 ? \"hidden\" : \"\" }}>\n                {checkPw ? (\n                  \"비밀번호가 일치하지 않습니다\"\n                ) : (\n                  <Checked>비밀번호가 일치합니다</Checked>\n                )}\n              </Check>\n            </Section>\n            <Section>\n              <SectionTitle>닉네임</SectionTitle>\n              <SectionBox\n                onChange={handleName}\n                onBlur={confirmName}\n                type=\"text\"\n                placeholder=\"닉네임을 입력하세요.\"\n              />\n              <Check style={{ visibility: checkName === 0 ? \"hidden\" : \"\" }}>\n                {checkName === 1 ? (\n                  \"닉네임은 3~9자리 이어야 합니다.\"\n                ) : checkName === 2 ? (\n                  \"이미 사용중인 닉네임입니다.\"\n                ) : (\n                  <Checked>사용가능한 닉네임입니다.</Checked>\n                )}\n              </Check>\n            </Section>\n            <Section>\n              <SectionTitle>Email</SectionTitle>\n              <SectionBox\n                onChange={handleEmail}\n                onBlur={confirmEmail}\n                type=\"text\"\n                placeholder=\"이메일을 입력하세요.\"\n              />\n              <Check style={{ visibility: checkEmail ? \"\" : \"hidden\" }}>\n                올바르지 않은 이메일 형식입니다.\n              </Check>\n            </Section>\n            <Section>\n              <SectionTitle>전화번호</SectionTitle>\n              <SectionBox\n                onChange={handlePhoneNum}\n                type=\"text\"\n                placeholder=\"전화번호를 입력하세요.\"\n              />\n            </Section>\n            <SubmitContainer>\n              <SubmitBtn onClick={handleSubmit}>회원가입</SubmitBtn>\n            </SubmitContainer>\n          </SignUpBorder>\n        </SignUpBox>\n      </Content>\n    </Container>\n  );\n};\n\nexport default SignUpByEmail;\n"]},"metadata":{},"sourceType":"module"}