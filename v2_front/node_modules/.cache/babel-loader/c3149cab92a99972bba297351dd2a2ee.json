{"ast":null,"code":"var _jsxFileName = \"/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Components/Sections/ReviewSection.js\";\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport Rating from '@material-ui/lab/Rating';\nimport { FaAngleUp, FaAngleDown } from 'react-icons/fa';\nimport { productsApi } from 'api';\nimport store from 'store';\nconst Container = styled.div`\n  @media only screen and (max-width: 765px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    height: 100px;\n  }\n  display: flex;\n  width: 100%;\n  height: 70px;\n  font-size: 13px;\n`;\nconst Section1 = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 100%;\n    height: 70%;\n  }\n  display: flex;\n  width: 51.5%;\n`;\nconst Section2 = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 100%;\n    height: 30%;\n  }\n  display: flex;\n  width: 48.5%;\n`;\nconst ReviewNum = styled.div`\n  @media only screen and (max-width: 765px) {\n    display: none;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 24.5%;\n`;\nconst ReviewTitle = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 100%;\n    font-size: 16px;\n    font-weight: 700;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  width: 75.5%;\n`;\nconst ReviewName = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 30%;\n    font-size: 12px;\n    font-weight: 500;\n    opacity: 0.7;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30%;\n`;\nconst ReviewDate = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 30%;\n    font-size: 12px;\n    font-weight: 500;\n    opacity: 0.7;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30%;\n`;\nconst ReviewStar = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 30%;\n    font-size: 12px;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30%;\n`;\nconst ReviewDelete = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 10%;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n`;\nconst ReviewDeleteBtn = styled.div`\n  font-size: 10px;\n  font-weight: 800;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: lightgrey;\n  border-radius: 5px;\n  padding: 5px;\n  cursor: pointer;\n`;\nconst ContentContainer = styled.div`\n  width: 100%;\n`;\nconst Image = styled.div`\n  background-image: url(${props => props.bgUrl});\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center center;\n  cursor: pointer;\n`;\nconst ContentText = styled.div`\n  line-height: 150%;\n  border: ${props => props.theme.mainBorder};\n  border-radius: 4px;\n  width: 95%;\n  margin: 20px 0;\n  padding: 30px 60px;\n  font-size: 14px;\n`;\n\nconst ReviewSection = ({\n  ReviewId,\n  ProductId,\n  rating,\n  title,\n  content,\n  name,\n  date,\n  num,\n  user_pk,\n  image\n}) => {\n  var _store$getState;\n\n  const [view, setView] = useState(true);\n  const [open, setOpen] = useState(false);\n  const [openImage, setOpenImage] = useState(false);\n\n  const toggleOpen = () => {\n    setOpen(!open);\n    setOpenImage(false);\n  };\n\n  const userPk = (_store$getState = store.getState()) === null || _store$getState === void 0 ? void 0 : _store$getState.user.user_pk;\n\n  const deleteReview = event => {\n    event.preventDefault();\n    productsApi.deleteReview(ReviewId, ProductId);\n    alert('삭제되었습니다.');\n    setView(false);\n  };\n\n  const handleImage = () => {\n    setOpenImage(!openImage);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, view === true ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    style: {\n      borderBottom: open ? 'none' : '1px solid #dbdbdb'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Section1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ReviewNum, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, num, \" \"), /*#__PURE__*/React.createElement(ReviewTitle, {\n    onClick: toggleOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  }, title, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      position: 'absolute',\n      left: '48%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, open === false ? /*#__PURE__*/React.createElement(FaAngleDown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 37\n    }\n  }) : /*#__PURE__*/React.createElement(FaAngleUp, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 55\n    }\n  })))), /*#__PURE__*/React.createElement(Section2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ReviewName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, name), /*#__PURE__*/React.createElement(ReviewDate, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, date.slice(0, 10)), /*#__PURE__*/React.createElement(ReviewStar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    name: \"star-rating\",\n    size: \"small\",\n    value: rating / 2,\n    precision: 0.5,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(ReviewDelete, {\n    style: {\n      visibility: userPk === parseInt(user_pk) ? '' : 'hidden'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ReviewDeleteBtn, {\n    onClick: deleteReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, \"\\uC0AD\\uC81C\")))), open === true ? /*#__PURE__*/React.createElement(ContentContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  }, image !== null ? /*#__PURE__*/React.createElement(Image, {\n    bgUrl: `${image}`,\n    onClick: handleImage,\n    style: {\n      width: openImage === true ? '700px' : '150px',\n      height: openImage === true ? '700px' : '150px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }) : null, /*#__PURE__*/React.createElement(ContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, content)) : null) : null);\n};\n\nexport default ReviewSection;","map":{"version":3,"sources":["/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Components/Sections/ReviewSection.js"],"names":["React","useState","styled","Rating","FaAngleUp","FaAngleDown","productsApi","store","Container","div","Section1","Section2","ReviewNum","ReviewTitle","ReviewName","ReviewDate","ReviewStar","ReviewDelete","ReviewDeleteBtn","ContentContainer","Image","props","bgUrl","ContentText","theme","mainBorder","ReviewSection","ReviewId","ProductId","rating","title","content","name","date","num","user_pk","image","view","setView","open","setOpen","openImage","setOpenImage","toggleOpen","userPk","getState","user","deleteReview","event","preventDefault","alert","handleImage","borderBottom","position","left","slice","visibility","parseInt","width","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,gBAAvC;AACA,SAASC,WAAT,QAA4B,KAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,SAAS,GAAGN,MAAM,CAACO,GAAI;;;;;;;;;;;CAA7B;AAaA,MAAMC,QAAQ,GAAGR,MAAM,CAACO,GAAI;;;;;;;CAA5B;AASA,MAAME,QAAQ,GAAGT,MAAM,CAACO,GAAI;;;;;;;CAA5B;AASA,MAAMG,SAAS,GAAGV,MAAM,CAACO,GAAI;;;;;;;;CAA7B;AAUA,MAAMI,WAAW,GAAGX,MAAM,CAACO,GAAI;;;;;;;;;;;CAA/B;AAaA,MAAMK,UAAU,GAAGZ,MAAM,CAACO,GAAI;;;;;;;;;;;CAA9B;AAaA,MAAMM,UAAU,GAAGb,MAAM,CAACO,GAAI;;;;;;;;;;;CAA9B;AAaA,MAAMO,UAAU,GAAGd,MAAM,CAACO,GAAI;;;;;;;;;CAA9B;AAWA,MAAMQ,YAAY,GAAGf,MAAM,CAACO,GAAI;;;;;;;;CAAhC;AAUA,MAAMS,eAAe,GAAGhB,MAAM,CAACO,GAAI;;;;;;;;;;CAAnC;AAYA,MAAMU,gBAAgB,GAAGjB,MAAM,CAACO,GAAI;;CAApC;AAIA,MAAMW,KAAK,GAAGlB,MAAM,CAACO,GAAI;0BACEY,KAAD,IAAWA,KAAK,CAACC,KAAM;;;;;CADjD;AAQA,MAAMC,WAAW,GAAGrB,MAAM,CAACO,GAAI;;YAElBY,KAAD,IAAWA,KAAK,CAACG,KAAN,CAAYC,UAAW;;;;;;CAF9C;;AAUA,MAAMC,aAAa,GAAG,CAAC;AACrBC,EAAAA,QADqB;AAErBC,EAAAA,SAFqB;AAGrBC,EAAAA,MAHqB;AAIrBC,EAAAA,KAJqB;AAKrBC,EAAAA,OALqB;AAMrBC,EAAAA,IANqB;AAOrBC,EAAAA,IAPqB;AAQrBC,EAAAA,GARqB;AASrBC,EAAAA,OATqB;AAUrBC,EAAAA;AAVqB,CAAD,KAWhB;AAAA;;AACJ,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBrC,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACsC,IAAD,EAAOC,OAAP,IAAkBvC,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACwC,SAAD,EAAYC,YAAZ,IAA4BzC,QAAQ,CAAC,KAAD,CAA1C;;AACA,QAAM0C,UAAU,GAAG,MAAM;AACvBH,IAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACAG,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAHD;;AAKA,QAAME,MAAM,sBAAGrC,KAAK,CAACsC,QAAN,EAAH,oDAAG,gBAAkBC,IAAlB,CAAuBX,OAAtC;;AACA,QAAMY,YAAY,GAAIC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;AACA3C,IAAAA,WAAW,CAACyC,YAAZ,CAAyBpB,QAAzB,EAAmCC,SAAnC;AACAsB,IAAAA,KAAK,CAAC,UAAD,CAAL;AACAZ,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GALD;;AAMA,QAAMa,WAAW,GAAG,MAAM;AACxBT,IAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ;AACD,GAFD;;AAIA,sBACE,0CACGJ,IAAI,KAAK,IAAT,gBACC,uDACE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAE;AAAEe,MAAAA,YAAY,EAAEb,IAAI,GAAG,MAAH,GAAY;AAAhC,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAYL,GAAZ,MADF,eAEE,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAES,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,KADH,eAEE;AAAM,IAAA,KAAK,EAAE;AAAEuB,MAAAA,QAAQ,EAAE,UAAZ;AAAwBC,MAAAA,IAAI,EAAE;AAA9B,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGf,IAAI,KAAK,KAAT,gBAAiB,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjB,gBAAmC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADtC,CAFF,CAFF,CAHF,eAYE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAaP,IAAb,CADF,eAEE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAaC,IAAI,CAACsB,KAAL,CAAW,CAAX,EAAc,EAAd,CAAb,CAFF,eAGE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,aADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAE1B,MAAM,GAAG,CAHlB;AAIE,IAAA,SAAS,EAAE,GAJb;AAKE,IAAA,QAAQ,EAAE,IALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHF,eAYE,oBAAC,YAAD;AACE,IAAA,KAAK,EAAE;AACL2B,MAAAA,UAAU,EAAEZ,MAAM,KAAKa,QAAQ,CAACtB,OAAD,CAAnB,GAA+B,EAA/B,GAAoC;AAD3C,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,eAAD;AAAiB,IAAA,OAAO,EAAEY,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF,CAZF,CAZF,CADF,EAkCGR,IAAI,KAAK,IAAT,gBACC,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,KAAK,KAAK,IAAV,gBACC,oBAAC,KAAD;AACE,IAAA,KAAK,EAAG,GAAEA,KAAM,EADlB;AAEE,IAAA,OAAO,EAAEe,WAFX;AAGE,IAAA,KAAK,EAAE;AACLO,MAAAA,KAAK,EAAEjB,SAAS,KAAK,IAAd,GAAqB,OAArB,GAA+B,OADjC;AAELkB,MAAAA,MAAM,EAAElB,SAAS,KAAK,IAAd,GAAqB,OAArB,GAA+B;AAFlC,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GASG,IAVN,eAWE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAcV,OAAd,CAXF,CADD,GAcG,IAhDN,CADD,GAmDG,IApDN,CADF;AAwDD,CAvFD;;AAyFA,eAAeL,aAAf","sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport Rating from '@material-ui/lab/Rating';\nimport { FaAngleUp, FaAngleDown } from 'react-icons/fa';\nimport { productsApi } from 'api';\nimport store from 'store';\n\nconst Container = styled.div`\n  @media only screen and (max-width: 765px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    height: 100px;\n  }\n  display: flex;\n  width: 100%;\n  height: 70px;\n  font-size: 13px;\n`;\n\nconst Section1 = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 100%;\n    height: 70%;\n  }\n  display: flex;\n  width: 51.5%;\n`;\n\nconst Section2 = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 100%;\n    height: 30%;\n  }\n  display: flex;\n  width: 48.5%;\n`;\n\nconst ReviewNum = styled.div`\n  @media only screen and (max-width: 765px) {\n    display: none;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 24.5%;\n`;\n\nconst ReviewTitle = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 100%;\n    font-size: 16px;\n    font-weight: 700;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  width: 75.5%;\n`;\n\nconst ReviewName = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 30%;\n    font-size: 12px;\n    font-weight: 500;\n    opacity: 0.7;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30%;\n`;\n\nconst ReviewDate = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 30%;\n    font-size: 12px;\n    font-weight: 500;\n    opacity: 0.7;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30%;\n`;\n\nconst ReviewStar = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 30%;\n    font-size: 12px;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30%;\n`;\n\nconst ReviewDelete = styled.div`\n  @media only screen and (max-width: 765px) {\n    width: 10%;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n`;\n\nconst ReviewDeleteBtn = styled.div`\n  font-size: 10px;\n  font-weight: 800;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: lightgrey;\n  border-radius: 5px;\n  padding: 5px;\n  cursor: pointer;\n`;\n\nconst ContentContainer = styled.div`\n  width: 100%;\n`;\n\nconst Image = styled.div`\n  background-image: url(${(props) => props.bgUrl});\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center center;\n  cursor: pointer;\n`;\n\nconst ContentText = styled.div`\n  line-height: 150%;\n  border: ${(props) => props.theme.mainBorder};\n  border-radius: 4px;\n  width: 95%;\n  margin: 20px 0;\n  padding: 30px 60px;\n  font-size: 14px;\n`;\n\nconst ReviewSection = ({\n  ReviewId,\n  ProductId,\n  rating,\n  title,\n  content,\n  name,\n  date,\n  num,\n  user_pk,\n  image,\n}) => {\n  const [view, setView] = useState(true);\n  const [open, setOpen] = useState(false);\n  const [openImage, setOpenImage] = useState(false);\n  const toggleOpen = () => {\n    setOpen(!open);\n    setOpenImage(false);\n  };\n\n  const userPk = store.getState()?.user.user_pk;\n  const deleteReview = (event) => {\n    event.preventDefault();\n    productsApi.deleteReview(ReviewId, ProductId);\n    alert('삭제되었습니다.');\n    setView(false);\n  };\n  const handleImage = () => {\n    setOpenImage(!openImage);\n  };\n\n  return (\n    <>\n      {view === true ? (\n        <>\n          <Container\n            style={{ borderBottom: open ? 'none' : '1px solid #dbdbdb' }}\n          >\n            <Section1>\n              <ReviewNum>{num} </ReviewNum>\n              <ReviewTitle onClick={toggleOpen}>\n                {title}\n                <span style={{ position: 'absolute', left: '48%' }}>\n                  {open === false ? <FaAngleDown /> : <FaAngleUp />}\n                </span>\n              </ReviewTitle>\n            </Section1>\n            <Section2>\n              <ReviewName>{name}</ReviewName>\n              <ReviewDate>{date.slice(0, 10)}</ReviewDate>\n              <ReviewStar>\n                <Rating\n                  name='star-rating'\n                  size='small'\n                  value={rating / 2}\n                  precision={0.5}\n                  readOnly={true}\n                />\n              </ReviewStar>\n              <ReviewDelete\n                style={{\n                  visibility: userPk === parseInt(user_pk) ? '' : 'hidden',\n                }}\n              >\n                <ReviewDeleteBtn onClick={deleteReview}>삭제</ReviewDeleteBtn>\n              </ReviewDelete>\n            </Section2>\n          </Container>\n          {open === true ? (\n            <ContentContainer>\n              {image !== null ? (\n                <Image\n                  bgUrl={`${image}`}\n                  onClick={handleImage}\n                  style={{\n                    width: openImage === true ? '700px' : '150px',\n                    height: openImage === true ? '700px' : '150px',\n                  }}\n                />\n              ) : null}\n              <ContentText>{content}</ContentText>\n            </ContentContainer>\n          ) : null}\n        </>\n      ) : null}\n    </>\n  );\n};\n\nexport default ReviewSection;\n"]},"metadata":{},"sourceType":"module"}