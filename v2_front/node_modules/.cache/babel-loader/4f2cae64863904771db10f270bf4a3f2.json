{"ast":null,"code":"var _jsxFileName = \"/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Components/PageBar.js\";\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport store, { pageNum } from 'store';\nconst PaginationContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n  margin-bottom: 30px;\n`;\nconst items_in_page = 12;\n\nconst PageBar = ({\n  itemNum,\n  url,\n  redux_savePageNum\n}) => {\n  var _store$getState;\n\n  const maxPage = itemNum !== -1 ? itemNum % items_in_page > 0 ? Math.floor(itemNum / items_in_page) + 1 : Math.floor(itemNum / items_in_page) : -1;\n  const loc = useLocation();\n  var pageNow = parseInt(loc.search.split('page=')[1]);\n  var currentPage = (_store$getState = store.getState()) === null || _store$getState === void 0 ? void 0 : _store$getState.page; // loc.search === '' ? 1 : parseInt(loc.search.split('page=')[1]);\n\n  const history = useHistory(); // if (currentPage > maxPage || currentPage < 0) {\n  //   history.push('/');\n  //   window.location.reload();\n  // }\n\n  const [page, setPage] = useState(currentPage % 10 === 0 ? currentPage - 10 : Math.floor(currentPage / 10) * 10);\n\n  const nextPage = () => {\n    maxPage - page > 10 ? setPage(page + 10) : setPage(page);\n  };\n\n  const prePage = () => {\n    if (page !== 0) {\n      setPage(page - 10);\n    }\n\n    return;\n  };\n\n  const getPage = event => {\n    var _store$getState2, _store$getState3, _store$getState4;\n\n    const urlSearchNow = history.location.search;\n    redux_savePageNum(event.target.value);\n    const pathurl = history.location.pathname;\n    const search = (_store$getState2 = store.getState()) === null || _store$getState2 === void 0 ? void 0 : _store$getState2.search;\n    const page = (_store$getState3 = store.getState()) === null || _store$getState3 === void 0 ? void 0 : _store$getState3.page;\n    const filter = (_store$getState4 = store.getState()) === null || _store$getState4 === void 0 ? void 0 : _store$getState4.filter;\n    currentPage = page;\n\n    if (urlSearchNow.includes('search')) {\n      history.push(`${pathurl}?search=${search}&filter=${filter}&page=${page}`);\n    } else {\n      history.push(`${pathurl}?filter=${filter}&page=${page}`);\n    }\n  };\n\n  const firstPage = () => {\n    var _store$getState5, _store$getState6;\n\n    redux_savePageNum(1);\n    const pathurl = history.location.pathname;\n    const page = (_store$getState5 = store.getState()) === null || _store$getState5 === void 0 ? void 0 : _store$getState5.page;\n    const filter = (_store$getState6 = store.getState()) === null || _store$getState6 === void 0 ? void 0 : _store$getState6.filter;\n    currentPage = page;\n    history.push(`${pathurl}?filter=${filter}&page=${page}`);\n  };\n\n  const lastPage = () => {\n    var _store$getState7, _store$getState8;\n\n    redux_savePageNum(maxPage);\n    const pathurl = history.location.pathname;\n    const page = (_store$getState7 = store.getState()) === null || _store$getState7 === void 0 ? void 0 : _store$getState7.page;\n    const filter = (_store$getState8 = store.getState()) === null || _store$getState8 === void 0 ? void 0 : _store$getState8.filter;\n    currentPage = page;\n    history.push(`${pathurl}?filter=${filter}&page=${page}`);\n  };\n\n  return /*#__PURE__*/React.createElement(PaginationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    \"aria-label\": \"Page navigation example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PaginationItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PaginationLink, {\n    first: true,\n    onClick: firstPage,\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(PaginationItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PaginationLink, {\n    previous: true,\n    onClick: prePage,\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  })), Array.apply(null, maxPage - page > 10 ? Array(10) : Array(maxPage - page)).map((x, i) => {\n    return /*#__PURE__*/React.createElement(PaginationItem, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PaginationLink, {\n      onClick: getPage,\n      value: i + 1 + page,\n      style: {\n        backgroundColor: pageNow === i + 1 + page ? '#888888' : '',\n        borderRadius: pageNow === i + 1 + page ? '30px' : '',\n        width: '50px',\n        // color: pageNow === i + 1 + page ? 'black' : '#dbdbdb',\n        color: 'black',\n        opacity: pageNow === i + 1 + page ? 1 : 0.5,\n        boxShadow: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, i + 1 + page));\n  }), /*#__PURE__*/React.createElement(PaginationItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PaginationLink, {\n    next: true,\n    onClick: nextPage,\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(PaginationItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PaginationLink, {\n    last: true,\n    style: {\n      color: 'black'\n    },\n    onClick: lastPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    info: state\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    redux_savePageNum: data => dispatch(pageNum(data))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageBar);","map":{"version":3,"sources":["/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Components/PageBar.js"],"names":["React","useState","styled","Pagination","PaginationItem","PaginationLink","useLocation","useHistory","connect","store","pageNum","PaginationContainer","div","items_in_page","PageBar","itemNum","url","redux_savePageNum","maxPage","Math","floor","loc","pageNow","parseInt","search","split","currentPage","getState","page","history","setPage","nextPage","prePage","getPage","event","urlSearchNow","location","target","value","pathurl","pathname","filter","includes","push","firstPage","lastPage","color","Array","apply","map","x","i","backgroundColor","borderRadius","width","opacity","boxShadow","mapStateToProps","state","info","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport store, { pageNum } from 'store';\n\nconst PaginationContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n  margin-bottom: 30px;\n`;\n\nconst items_in_page = 12;\n\nconst PageBar = ({ itemNum, url, redux_savePageNum }) => {\n  const maxPage =\n    itemNum !== -1\n      ? itemNum % items_in_page > 0\n        ? Math.floor(itemNum / items_in_page) + 1\n        : Math.floor(itemNum / items_in_page)\n      : -1;\n\n  const loc = useLocation();\n\n  var pageNow = parseInt(loc.search.split('page=')[1]);\n\n  var currentPage = store.getState()?.page;\n  // loc.search === '' ? 1 : parseInt(loc.search.split('page=')[1]);\n\n  const history = useHistory();\n\n  // if (currentPage > maxPage || currentPage < 0) {\n  //   history.push('/');\n  //   window.location.reload();\n  // }\n\n  const [page, setPage] = useState(\n    currentPage % 10 === 0\n      ? currentPage - 10\n      : Math.floor(currentPage / 10) * 10\n  );\n\n  const nextPage = () => {\n    maxPage - page > 10 ? setPage(page + 10) : setPage(page);\n  };\n\n  const prePage = () => {\n    if (page !== 0) {\n      setPage(page - 10);\n    }\n    return;\n  };\n\n  const getPage = (event) => {\n    const urlSearchNow = history.location.search;\n    redux_savePageNum(event.target.value);\n    const pathurl = history.location.pathname;\n    const search = store.getState()?.search;\n    const page = store.getState()?.page;\n    const filter = store.getState()?.filter;\n    currentPage = page;\n\n    if (urlSearchNow.includes('search')) {\n      history.push(`${pathurl}?search=${search}&filter=${filter}&page=${page}`);\n    } else {\n      history.push(`${pathurl}?filter=${filter}&page=${page}`);\n    }\n  };\n\n  const firstPage = () => {\n    redux_savePageNum(1);\n    const pathurl = history.location.pathname;\n    const page = store.getState()?.page;\n    const filter = store.getState()?.filter;\n    currentPage = page;\n    history.push(`${pathurl}?filter=${filter}&page=${page}`);\n  };\n\n  const lastPage = () => {\n    redux_savePageNum(maxPage);\n    const pathurl = history.location.pathname;\n    const page = store.getState()?.page;\n    const filter = store.getState()?.filter;\n    currentPage = page;\n    history.push(`${pathurl}?filter=${filter}&page=${page}`);\n  };\n\n  return (\n    <PaginationContainer>\n      <Pagination aria-label='Page navigation example'>\n        <PaginationItem>\n          <PaginationLink\n            first\n            onClick={firstPage}\n            style={{ color: 'black' }}\n          />\n        </PaginationItem>\n        <PaginationItem>\n          <PaginationLink\n            previous\n            onClick={prePage}\n            style={{ color: 'black' }}\n          />\n        </PaginationItem>\n        {Array.apply(\n          null,\n          maxPage - page > 10 ? Array(10) : Array(maxPage - page)\n        ).map((x, i) => {\n          return (\n            <PaginationItem key={i}>\n              <PaginationLink\n                onClick={getPage}\n                value={i + 1 + page}\n                style={{\n                  backgroundColor: pageNow === i + 1 + page ? '#888888' : '',\n                  borderRadius: pageNow === i + 1 + page ? '30px' : '',\n                  width: '50px',\n                  // color: pageNow === i + 1 + page ? 'black' : '#dbdbdb',\n                  color: 'black',\n                  opacity: pageNow === i + 1 + page ? 1 : 0.5,\n                  boxShadow: 'none',\n                }}\n              >\n                {i + 1 + page}\n              </PaginationLink>\n            </PaginationItem>\n          );\n        })}\n        <PaginationItem>\n          <PaginationLink next onClick={nextPage} style={{ color: 'black' }} />\n        </PaginationItem>\n        <PaginationItem>\n          <PaginationLink last style={{ color: 'black' }} onClick={lastPage} />\n        </PaginationItem>\n      </Pagination>\n    </PaginationContainer>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return { info: state };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    redux_savePageNum: (data) => dispatch(pageNum(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageBar);\n"]},"metadata":{},"sourceType":"module"}