{"ast":null,"code":"import { combineReducers } from 'redux';\nimport { configureStore, createSlice } from '@reduxjs/toolkit';\nconst LOGIN_INFO = 'LogInInfo';\nconst loadedLogIn = sessionStorage.getItem(LOGIN_INFO) || localStorage.getItem(LOGIN_INFO);\nconst parsedLogIn = JSON.parse(loadedLogIn) ? JSON.parse(loadedLogIn) : {\n  token: '',\n  user_pk: '',\n  logged: false\n};\nconst RECENT_PRODUCT = 'Recent Products';\nconst loadedProduct = sessionStorage.getItem(RECENT_PRODUCT);\nconst parsedProduct = JSON.parse(loadedProduct) ? JSON.parse(loadedProduct) : [];\nconst location = createSlice({\n  name: 'locationReducer',\n  initialState: [],\n  reducers: {\n    saveLocation: (state, action) => {\n      state.push({\n        location: action.payload\n      });\n    }\n  }\n});\nconst user = createSlice({\n  name: 'logInReducer',\n  initialState: parsedLogIn,\n  reducers: {\n    logIn: (_, action) => {\n      var _action$payload, _action$payload2, _action$payload3;\n\n      return {\n        token: (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.token,\n        user_pk: (_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.user_pk,\n        logged: (_action$payload3 = action.payload) === null || _action$payload3 === void 0 ? void 0 : _action$payload3.logged\n      };\n    }\n  }\n});\nconst products = createSlice({\n  name: 'productReducer',\n  initialState: parsedProduct,\n  reducers: {\n    recentProduct: (state, action) => {\n      state.splice(0, 0, {\n        product: action.payload\n      });\n    },\n    deleteProduct: (state, action) => {\n      return state.filter(product => product.product.id !== action.payload.id);\n    }\n  }\n});\nconst page = createSlice({\n  name: 'pageBarReducer',\n  initialState: 1,\n  reducers: {\n    pageNum: (state, action) => parseInt(action.payload)\n  }\n});\nconst filter = createSlice({\n  name: 'filterReducer',\n  initialState: '',\n  reducers: {\n    filterOption: (state, action) => action.payload\n  }\n});\nconst search = createSlice({\n  name: 'searchReducer',\n  initialState: '',\n  reducers: {\n    searchTerm: (state, action) => action.payload\n  }\n});\nconst reducer = combineReducers({\n  location: location.reducer,\n  user: user.reducer,\n  products: products.reducer,\n  page: page.reducer,\n  filter: filter.reducer,\n  search: search.reducer\n});\nconst store = configureStore({\n  reducer\n});\nstore.subscribe(() => {\n  sessionStorage.setItem(RECENT_PRODUCT, JSON.stringify(store.getState().products));\n});\nexport const {\n  saveLocation\n} = location.actions;\nexport const {\n  logIn\n} = user.actions;\nexport const {\n  recentProduct,\n  deleteProduct\n} = products.actions;\nexport const {\n  pageNum\n} = page.actions;\nexport const {\n  filterOption\n} = filter.actions;\nexport const {\n  searchTerm\n} = search.actions;\nexport default store;","map":{"version":3,"sources":["/Users/Donghyun/Desktop/KPL_V2/v2_front/src/store.js"],"names":["combineReducers","configureStore","createSlice","LOGIN_INFO","loadedLogIn","sessionStorage","getItem","localStorage","parsedLogIn","JSON","parse","token","user_pk","logged","RECENT_PRODUCT","loadedProduct","parsedProduct","location","name","initialState","reducers","saveLocation","state","action","push","payload","user","logIn","_","products","recentProduct","splice","product","deleteProduct","filter","id","page","pageNum","parseInt","filterOption","search","searchTerm","reducer","store","subscribe","setItem","stringify","getState","actions"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport { configureStore, createSlice } from '@reduxjs/toolkit';\n\nconst LOGIN_INFO = 'LogInInfo';\n\nconst loadedLogIn =\n  sessionStorage.getItem(LOGIN_INFO) || localStorage.getItem(LOGIN_INFO);\nconst parsedLogIn = JSON.parse(loadedLogIn)\n  ? JSON.parse(loadedLogIn)\n  : { token: '', user_pk: '', logged: false };\n\nconst RECENT_PRODUCT = 'Recent Products';\n\nconst loadedProduct = sessionStorage.getItem(RECENT_PRODUCT);\nconst parsedProduct = JSON.parse(loadedProduct)\n  ? JSON.parse(loadedProduct)\n  : [];\n\nconst location = createSlice({\n  name: 'locationReducer',\n  initialState: [],\n  reducers: {\n    saveLocation: (state, action) => {\n      state.push({ location: action.payload });\n    },\n  },\n});\n\nconst user = createSlice({\n  name: 'logInReducer',\n  initialState: parsedLogIn,\n  reducers: {\n    logIn: (_, action) => ({\n      token: action.payload?.token,\n      user_pk: action.payload?.user_pk,\n      logged: action.payload?.logged,\n    }),\n  },\n});\n\nconst products = createSlice({\n  name: 'productReducer',\n  initialState: parsedProduct,\n  reducers: {\n    recentProduct: (state, action) => {\n      state.splice(0, 0, { product: action.payload });\n    },\n    deleteProduct: (state, action) => {\n      return state.filter(\n        (product) => product.product.id !== action.payload.id\n      );\n    },\n  },\n});\n\nconst page = createSlice({\n  name: 'pageBarReducer',\n  initialState: 1,\n  reducers: {\n    pageNum: (state, action) => parseInt(action.payload),\n  },\n});\n\nconst filter = createSlice({\n  name: 'filterReducer',\n  initialState: '',\n  reducers: {\n    filterOption: (state, action) => action.payload,\n  },\n});\n\nconst search = createSlice({\n  name: 'searchReducer',\n  initialState: '',\n  reducers: {\n    searchTerm: (state, action) => action.payload,\n  },\n});\n\nconst reducer = combineReducers({\n  location: location.reducer,\n  user: user.reducer,\n  products: products.reducer,\n  page: page.reducer,\n  filter: filter.reducer,\n  search: search.reducer,\n});\n\nconst store = configureStore({ reducer });\n\nstore.subscribe(() => {\n  sessionStorage.setItem(\n    RECENT_PRODUCT,\n    JSON.stringify(store.getState().products)\n  );\n});\n\nexport const { saveLocation } = location.actions;\nexport const { logIn } = user.actions;\nexport const { recentProduct, deleteProduct } = products.actions;\nexport const { pageNum } = page.actions;\nexport const { filterOption } = filter.actions;\nexport const { searchTerm } = search.actions;\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}