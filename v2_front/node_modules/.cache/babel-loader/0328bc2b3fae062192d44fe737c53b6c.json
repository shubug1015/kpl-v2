{"ast":null,"code":"var _jsxFileName = \"/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/Basket/BasketPresenter.js\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport BasketSection from 'Components/Sections/BasketSection';\nimport Message from 'Components/Message';\nimport { usersApi } from 'api';\nimport { AiOutlineCheck } from 'react-icons/ai';\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100vw;\n  /* height: 100vh; */\n  padding-bottom: 30px;\n  overflow: auto;\n`;\nconst Content = styled.div``;\nconst Title = styled.div`\n  width: 95%;\n  padding: 50px 50px;\n  font-size: 22px;\n`;\nconst UserName = styled.span`\n  font-size: 28px;\n`;\nconst ItemNumContainer = styled.div`\n  display: flex;\n  justify-content: left;\n  width: 92.4%;\n  margin-left: 15px;\n`;\nconst ItemNum = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100px;\n  padding: 15px;\n  font-size: 12px;\n  font-weight: 900;\n`;\nconst ItemContainer = styled.div`\n  padding: 5px 30px;\n  margin-bottom: 10px;\n`;\nconst Sections = styled.div`\n  display: flex;\n  align-items: center;\n  border-top: ${props => props.theme.boldMainBorder};\n  border-bottom: ${props => props.theme.boldMainBorder};\n  width: 88vw;\n  height: 50px;\n  margin-left: 14.2px;\n  font-size: 14px;\n  opacity: 0.7;\n`;\nconst ImageTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\nconst BrandTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\nconst NameTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 25%;\n  height: 30px;\n`;\nconst OptionTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 12%;\n  height: 30px;\n`;\nconst PriceTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\nconst QtyTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 5%;\n  height: 30px;\n`;\nconst PostPriceTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\nconst TotalPriceTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\nconst BasketSections = styled.div`\n  width: 88vw;\n`;\nconst BasketSectionItem = styled.div`\n  width: 88vw;\n  display: flex;\n  align-items: center;\n`;\nconst BasketSectionText = styled.div`\n  text-align: center;\n  font-size: 14px;\n  width: 100%;\n  padding: 80px 0;\n`;\nconst DeleteContainer = styled.div`\n  display: flex;\n  justify-content: left;\n  align-items: center;\n  padding-left: 45px;\n`;\nconst DeleteBtn = styled.button`\n  font-size: 12px;\n  border: ${props => props.theme.mainBorder};\n  border-radius: 2px;\n  width: 65px;\n  height: 27px;\n  margin-right: 10px;\n  &:focus {\n    outline: none;\n  }\n`;\nconst PurchaseContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst PurchaseBtn = styled.button`\n  font-size: 18px;\n  border: none;\n  border-radius: 2px;\n  background-color: #ffe2e3;\n  width: 180px;\n  height: 60px;\n  margin-top: 30px;\n  &:focus {\n    outline: none;\n  }\n`;\nconst SLink = styled(Link)``;\n\nconst BasketPresenter = ({\n  user,\n  basket,\n  basketObjectId,\n  error\n}) => {\n  const [checkList, setCheckList] = useState(basketObjectId ? [basketObjectId] : []);\n  const [updatedBasket, setUpdatedBasket] = useState(basket);\n  const [checkedBasket, setCheckedBasket] = useState(basket);\n\n  const getId = id => {\n    if (checkList.includes(id)) {\n      setCheckList(checkList.filter(c => c !== id));\n    } else {\n      setCheckList([...checkList, id]);\n    }\n  };\n\n  const deleteSelected = async () => {\n    setUpdatedBasket(basket.filter(b => !checkList.includes(b.id)));\n\n    try {\n      await usersApi.deleteBasket(checkList);\n    } catch {\n      return;\n    }\n  };\n\n  const deleteAll = async () => {\n    setUpdatedBasket([]);\n\n    try {\n      await usersApi.deleteBasket(updatedBasket.map(u => u.id));\n    } catch {\n      return;\n    }\n  };\n\n  const alert = () => {\n    alert('선택된 상품이 없습니다.');\n  };\n\n  useEffect(() => {\n    setCheckedBasket(basket.filter(i => checkList.includes(i.id)));\n  }, [checkList, basket]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(UserName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, user.name), \" \\uB2D8\\uC758 \\uC7A5\\uBC14\\uAD6C\\uB2C8\"), /*#__PURE__*/React.createElement(ItemNumContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ItemNum, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 11\n    }\n  }, \"\\uCD1D \", updatedBasket.length, \"\\uAC1C\")), /*#__PURE__*/React.createElement(ItemContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Sections, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ImageTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, \"\\uC0AC\\uC9C4\"), /*#__PURE__*/React.createElement(BrandTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }\n  }, \"\\uC791\\uAC00 / \\uBE0C\\uB79C\\uB4DC\"), /*#__PURE__*/React.createElement(NameTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, \"\\uC0C1\\uD488\\uBA85\"), /*#__PURE__*/React.createElement(OptionTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }\n  }, \"\\uC635\\uC158\"), /*#__PURE__*/React.createElement(PriceTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  }, \"\\uD310\\uB9E4\\uAC00\"), /*#__PURE__*/React.createElement(QtyTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  }, \"\\uC218\\uB7C9\"), /*#__PURE__*/React.createElement(PostPriceTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, \"\\uBC30\\uC1A1\\uBE44\"), /*#__PURE__*/React.createElement(TotalPriceTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, \"\\uD569\\uACC4\")), /*#__PURE__*/React.createElement(BasketSections, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 11\n    }\n  }, updatedBasket && updatedBasket.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, updatedBasket.map(item => /*#__PURE__*/React.createElement(Fragment, {\n    key: `basket${item.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(BasketSectionItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineCheck, {\n    onClick: () => getId(item.id),\n    key: `checkbox${item.id}`,\n    id: item.id,\n    style: {\n      border: checkList.includes(item.id) ? 'none' : '1px solid #dbdbdb',\n      borderRadius: '2px',\n      backgroundColor: checkList.includes(item.id) ? '#ffe2e3' : '#fafafa',\n      color: checkList.includes(item.id) ? '#333333' : 'gray',\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(BasketSection, {\n    key: item.id,\n    id: item.id,\n    productId: item.productId,\n    name: item.name,\n    option: item.option,\n    qty: item.qty,\n    brand: item.brand,\n    price: item.price,\n    imageUrl: item.product_image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 23\n    }\n  }))))) : /*#__PURE__*/React.createElement(BasketSectionText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }, \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uB2F4\\uAE34 \\uC0C1\\uD488\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"))), updatedBasket && updatedBasket.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DeleteContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DeleteBtn, {\n    onClick: deleteAll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 15\n    }\n  }, \"\\uC804\\uCCB4\\uC0AD\\uC81C\"), /*#__PURE__*/React.createElement(DeleteBtn, {\n    onClick: deleteSelected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 15\n    }\n  }, \"\\uC120\\uD0DD\\uC0AD\\uC81C\")), /*#__PURE__*/React.createElement(PurchaseContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }\n  }, updatedBasket.length > 0 && checkList.length > 0 ? /*#__PURE__*/React.createElement(SLink, {\n    to: {\n      pathname: '/purchase',\n      state: {\n        checkedBasket\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PurchaseBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 19\n    }\n  }, \"\\uAD6C\\uB9E4\\uD558\\uAE30\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PurchaseBtn, {\n    onClick: alert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 19\n    }\n  }, \"\\uAD6C\\uB9E4\\uD558\\uAE30\"))))), error && /*#__PURE__*/React.createElement(Message, {\n    color: \"e74c3c\",\n    text: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 17\n    }\n  }));\n};\n\nBasketPresenter.propTypes = {\n  user: PropTypes.object.isRequired,\n  basket: PropTypes.array.isRequired,\n  basketObjectId: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n  error: PropTypes.string\n};\nexport default BasketPresenter;","map":{"version":3,"sources":["/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/Basket/BasketPresenter.js"],"names":["React","useState","useEffect","Fragment","Link","styled","PropTypes","BasketSection","Message","usersApi","AiOutlineCheck","Container","div","Content","Title","UserName","span","ItemNumContainer","ItemNum","ItemContainer","Sections","props","theme","boldMainBorder","ImageTitle","BrandTitle","NameTitle","OptionTitle","PriceTitle","QtyTitle","PostPriceTitle","TotalPriceTitle","BasketSections","BasketSectionItem","BasketSectionText","DeleteContainer","DeleteBtn","button","mainBorder","PurchaseContainer","PurchaseBtn","SLink","BasketPresenter","user","basket","basketObjectId","error","checkList","setCheckList","updatedBasket","setUpdatedBasket","checkedBasket","setCheckedBasket","getId","id","includes","filter","c","deleteSelected","b","deleteBasket","deleteAll","map","u","alert","i","name","length","item","border","borderRadius","backgroundColor","color","cursor","productId","option","qty","brand","price","product_image","pathname","state","propTypes","object","isRequired","array","oneOfType","number","bool","string"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport BasketSection from 'Components/Sections/BasketSection';\nimport Message from 'Components/Message';\nimport { usersApi } from 'api';\nimport { AiOutlineCheck } from 'react-icons/ai';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100vw;\n  /* height: 100vh; */\n  padding-bottom: 30px;\n  overflow: auto;\n`;\n\nconst Content = styled.div``;\n\nconst Title = styled.div`\n  width: 95%;\n  padding: 50px 50px;\n  font-size: 22px;\n`;\n\nconst UserName = styled.span`\n  font-size: 28px;\n`;\n\nconst ItemNumContainer = styled.div`\n  display: flex;\n  justify-content: left;\n  width: 92.4%;\n  margin-left: 15px;\n`;\n\nconst ItemNum = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100px;\n  padding: 15px;\n  font-size: 12px;\n  font-weight: 900;\n`;\n\nconst ItemContainer = styled.div`\n  padding: 5px 30px;\n  margin-bottom: 10px;\n`;\n\nconst Sections = styled.div`\n  display: flex;\n  align-items: center;\n  border-top: ${(props) => props.theme.boldMainBorder};\n  border-bottom: ${(props) => props.theme.boldMainBorder};\n  width: 88vw;\n  height: 50px;\n  margin-left: 14.2px;\n  font-size: 14px;\n  opacity: 0.7;\n`;\n\nconst ImageTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\n\nconst BrandTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\n\nconst NameTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 25%;\n  height: 30px;\n`;\n\nconst OptionTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 12%;\n  height: 30px;\n`;\n\nconst PriceTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\n\nconst QtyTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 5%;\n  height: 30px;\n`;\n\nconst PostPriceTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\n\nconst TotalPriceTitle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n  height: 30px;\n`;\n\nconst BasketSections = styled.div`\n  width: 88vw;\n`;\n\nconst BasketSectionItem = styled.div`\n  width: 88vw;\n  display: flex;\n  align-items: center;\n`;\n\nconst BasketSectionText = styled.div`\n  text-align: center;\n  font-size: 14px;\n  width: 100%;\n  padding: 80px 0;\n`;\n\nconst DeleteContainer = styled.div`\n  display: flex;\n  justify-content: left;\n  align-items: center;\n  padding-left: 45px;\n`;\n\nconst DeleteBtn = styled.button`\n  font-size: 12px;\n  border: ${(props) => props.theme.mainBorder};\n  border-radius: 2px;\n  width: 65px;\n  height: 27px;\n  margin-right: 10px;\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst PurchaseContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst PurchaseBtn = styled.button`\n  font-size: 18px;\n  border: none;\n  border-radius: 2px;\n  background-color: #ffe2e3;\n  width: 180px;\n  height: 60px;\n  margin-top: 30px;\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst SLink = styled(Link)``;\n\nconst BasketPresenter = ({ user, basket, basketObjectId, error }) => {\n  const [checkList, setCheckList] = useState(\n    basketObjectId ? [basketObjectId] : []\n  );\n  const [updatedBasket, setUpdatedBasket] = useState(basket);\n  const [checkedBasket, setCheckedBasket] = useState(basket);\n\n  const getId = (id) => {\n    if (checkList.includes(id)) {\n      setCheckList(checkList.filter((c) => c !== id));\n    } else {\n      setCheckList([...checkList, id]);\n    }\n  };\n\n  const deleteSelected = async () => {\n    setUpdatedBasket(basket.filter((b) => !checkList.includes(b.id)));\n    try {\n      await usersApi.deleteBasket(checkList);\n    } catch {\n      return;\n    }\n  };\n\n  const deleteAll = async () => {\n    setUpdatedBasket([]);\n    try {\n      await usersApi.deleteBasket(updatedBasket.map((u) => u.id));\n    } catch {\n      return;\n    }\n  };\n\n  const alert = () => {\n    alert('선택된 상품이 없습니다.');\n  };\n\n  useEffect(() => {\n    setCheckedBasket(basket.filter((i) => checkList.includes(i.id)));\n  }, [checkList, basket]);\n\n  return (\n    <Container>\n      <Content>\n        <Title>\n          <UserName>{user.name}</UserName> 님의 장바구니\n        </Title>\n        <ItemNumContainer>\n          <ItemNum>총 {updatedBasket.length}개</ItemNum>\n        </ItemNumContainer>\n        <ItemContainer>\n          <Sections>\n            <ImageTitle>사진</ImageTitle>\n            <BrandTitle>작가 / 브랜드</BrandTitle>\n            <NameTitle>상품명</NameTitle>\n            <OptionTitle>옵션</OptionTitle>\n            <PriceTitle>판매가</PriceTitle>\n            <QtyTitle>수량</QtyTitle>\n            <PostPriceTitle>배송비</PostPriceTitle>\n            <TotalPriceTitle>합계</TotalPriceTitle>\n          </Sections>\n          <BasketSections>\n            {updatedBasket && updatedBasket.length > 0 ? (\n              <>\n                {updatedBasket.map((item) => (\n                  <Fragment key={`basket${item.id}`}>\n                    <BasketSectionItem>\n                      <AiOutlineCheck\n                        onClick={() => getId(item.id)}\n                        key={`checkbox${item.id}`}\n                        id={item.id}\n                        style={{\n                          border: checkList.includes(item.id)\n                            ? 'none'\n                            : '1px solid #dbdbdb',\n                          borderRadius: '2px',\n                          backgroundColor: checkList.includes(item.id)\n                            ? '#ffe2e3'\n                            : '#fafafa',\n                          color: checkList.includes(item.id)\n                            ? '#333333'\n                            : 'gray',\n                          cursor: 'pointer',\n                        }}\n                      />\n                      <BasketSection\n                        key={item.id}\n                        id={item.id}\n                        productId={item.productId}\n                        name={item.name}\n                        option={item.option}\n                        qty={item.qty}\n                        brand={item.brand}\n                        price={item.price}\n                        imageUrl={item.product_image}\n                      />\n                    </BasketSectionItem>\n                  </Fragment>\n                ))}\n              </>\n            ) : (\n              <BasketSectionText>\n                장바구니에 담긴 상품이 없습니다.\n              </BasketSectionText>\n            )}\n          </BasketSections>\n        </ItemContainer>\n        {updatedBasket && updatedBasket.length > 0 && (\n          <>\n            <DeleteContainer>\n              <DeleteBtn onClick={deleteAll}>전체삭제</DeleteBtn>\n              <DeleteBtn onClick={deleteSelected}>선택삭제</DeleteBtn>\n            </DeleteContainer>\n            <PurchaseContainer>\n              {updatedBasket.length > 0 && checkList.length > 0 ? (\n                <SLink to={{ pathname: '/purchase', state: { checkedBasket } }}>\n                  <PurchaseBtn>구매하기</PurchaseBtn>\n                </SLink>\n              ) : (\n                <div>\n                  <PurchaseBtn onClick={alert}>구매하기</PurchaseBtn>\n                </div>\n              )}\n            </PurchaseContainer>\n          </>\n        )}\n      </Content>\n      {error && <Message color='e74c3c' text={error} />}\n    </Container>\n  );\n};\n\nBasketPresenter.propTypes = {\n  user: PropTypes.object.isRequired,\n  basket: PropTypes.array.isRequired,\n  basketObjectId: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n  error: PropTypes.string,\n};\n\nexport default BasketPresenter;\n"]},"metadata":{},"sourceType":"module"}