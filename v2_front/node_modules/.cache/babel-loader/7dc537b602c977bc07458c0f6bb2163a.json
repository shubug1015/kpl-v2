{"ast":null,"code":"var _jsxFileName = \"/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/Basket/BasketContainer.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport BasketPresenter from './BasketPresenter';\nimport { usersApi } from 'api';\nimport Loader from 'Components/Loader';\nimport store from 'store';\n\nconst BasketContainer = () => {\n  const [basketData, setBasketData] = useState({\n    user: null,\n    basket: null,\n    basketObjectId: false\n  });\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const basketObjectId_props = useLocation().state;\n\n  const getItems = async () => {\n    var _store$getState$user;\n\n    const {\n      data: user\n    } = await usersApi.user();\n    const {\n      data: {\n        results\n      }\n    } = await usersApi.basket((_store$getState$user = store.getState().user) === null || _store$getState$user === void 0 ? void 0 : _store$getState$user.token);\n    const basket = results.map(basket => {\n      basket.product.option = basket.option;\n      basket.product.qty = basket.qty;\n      basket.product.productId = basket.product.id;\n      basket.product.id = basket.id;\n      return basket.product;\n    });\n    setBasketData({\n      user: user,\n      basket: basket,\n      basketObjectId: false\n    });\n\n    if (basketObjectId_props !== undefined) {\n      setBasketData({\n        user: user,\n        basket: basket,\n        basketObjectId: basketObjectId_props.basketObjectId\n      });\n    }\n  };\n\n  const getData = async () => {\n    try {\n      await getItems();\n    } catch {\n      setError(\"Can't find basket items\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const {\n    user,\n    basket,\n    basketObjectId\n  } = basketData;\n  return loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(BasketPresenter, {\n    user: user,\n    basket: basket,\n    basketObjectId: basketObjectId,\n    error: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  });\n};\n\nexport default BasketContainer;","map":{"version":3,"sources":["/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/Basket/BasketContainer.js"],"names":["React","useState","useEffect","useLocation","BasketPresenter","usersApi","Loader","store","BasketContainer","basketData","setBasketData","user","basket","basketObjectId","error","setError","loading","setLoading","basketObjectId_props","state","getItems","data","results","getState","token","map","product","option","qty","productId","id","undefined","getData"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport BasketPresenter from './BasketPresenter';\nimport { usersApi } from 'api';\nimport Loader from 'Components/Loader';\nimport store from 'store';\n\nconst BasketContainer = () => {\n  const [basketData, setBasketData] = useState({\n    user: null,\n    basket: null,\n    basketObjectId: false,\n  });\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const basketObjectId_props = useLocation().state;\n\n  const getItems = async () => {\n    const { data: user } = await usersApi.user();\n    const {\n      data: { results },\n    } = await usersApi.basket(store.getState().user?.token);\n    const basket = results.map((basket) => {\n      basket.product.option = basket.option;\n      basket.product.qty = basket.qty;\n      basket.product.productId = basket.product.id;\n      basket.product.id = basket.id;\n      return basket.product;\n    });\n    setBasketData({\n      user: user,\n      basket: basket,\n      basketObjectId: false,\n    });\n    if (basketObjectId_props !== undefined) {\n      setBasketData({\n        user: user,\n        basket: basket,\n        basketObjectId: basketObjectId_props.basketObjectId,\n      });\n    }\n  };\n\n  const getData = async () => {\n    try {\n      await getItems();\n    } catch {\n      setError(\"Can't find basket items\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const { user, basket, basketObjectId } = basketData;\n\n  return loading ? (\n    <Loader />\n  ) : (\n    <BasketPresenter\n      user={user}\n      basket={basket}\n      basketObjectId={basketObjectId}\n      error={error}\n    />\n  );\n};\n\nexport default BasketContainer;\n"]},"metadata":{},"sourceType":"module"}