{"ast":null,"code":"var _jsxFileName = \"/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/Basket/BasketContainer2.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport BasketPresenter from './BasketPresenter';\nimport { usersApi } from 'api';\nimport Loader from 'Components/Loader';\nimport store from 'store';\n\nconst BasketContainer = () => {\n  const [basketData, setBasketData] = useState({\n    user: null,\n    basket: null,\n    basketObjectId: false\n  });\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const basketObjectId_props = useLocation().state;\n\n  const getData = async () => {\n    try {\n      var _store$getState$user;\n\n      const {\n        data: user\n      } = await usersApi.user();\n      const {\n        data\n      } = await usersApi.basket((_store$getState$user = store.getState().user) === null || _store$getState$user === void 0 ? void 0 : _store$getState$user.token);\n      const basket = data.map(basket => {\n        basket.product.option = basket.option;\n        basket.product.qty = basket.qty;\n        basket.product.productId = basket.product.id;\n        basket.product.id = basket.id;\n        return basket.product;\n      });\n      setBasketData({\n        user: user,\n        basket: basket,\n        basketObjectId: false\n      });\n\n      if (basketObjectId_props !== undefined) {\n        setBasketData({\n          user: user,\n          basket: basket,\n          basketObjectId: basketObjectId_props.basketObjectId\n        });\n      }\n    } catch {\n      setError(\"Can't find basket items\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  const {\n    user,\n    basket,\n    basketObjectId\n  } = basketData;\n  return loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(BasketPresenter, {\n    user: user,\n    basket: basket,\n    basketObjectId: basketObjectId,\n    error: error,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  });\n};\n\nexport default BasketContainer;","map":{"version":3,"sources":["/Users/Donghyun/Desktop/KPL_V2/v2_front/src/Routes/Basket/BasketContainer2.js"],"names":["React","useState","useEffect","useLocation","BasketPresenter","usersApi","Loader","store","BasketContainer","basketData","setBasketData","user","basket","basketObjectId","error","setError","loading","setLoading","basketObjectId_props","state","getData","data","getState","token","map","product","option","qty","productId","id","undefined"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,SAASC,QAAT,QAAyB,KAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,eAAe,GAAG,MAAM;AAC5B,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC;AAC3CU,IAAAA,IAAI,EAAE,IADqC;AAE3CC,IAAAA,MAAM,EAAE,IAFmC;AAG3CC,IAAAA,cAAc,EAAE;AAH2B,GAAD,CAA5C;AAKA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,IAAD,CAAtC;AAEA,QAAMiB,oBAAoB,GAAGf,WAAW,GAAGgB,KAA3C;;AACA,QAAMC,OAAO,GAAG,YAAY;AAC1B,QAAI;AAAA;;AACF,YAAM;AAAEC,QAAAA,IAAI,EAAEV;AAAR,UAAiB,MAAMN,QAAQ,CAACM,IAAT,EAA7B;AACA,YAAM;AAAEU,QAAAA;AAAF,UAAW,MAAMhB,QAAQ,CAACO,MAAT,yBAAgBL,KAAK,CAACe,QAAN,GAAiBX,IAAjC,yDAAgB,qBAAuBY,KAAvC,CAAvB;AACA,YAAMX,MAAM,GAAGS,IAAI,CAACG,GAAL,CAAUZ,MAAD,IAAY;AAClCA,QAAAA,MAAM,CAACa,OAAP,CAAeC,MAAf,GAAwBd,MAAM,CAACc,MAA/B;AACAd,QAAAA,MAAM,CAACa,OAAP,CAAeE,GAAf,GAAqBf,MAAM,CAACe,GAA5B;AACAf,QAAAA,MAAM,CAACa,OAAP,CAAeG,SAAf,GAA2BhB,MAAM,CAACa,OAAP,CAAeI,EAA1C;AACAjB,QAAAA,MAAM,CAACa,OAAP,CAAeI,EAAf,GAAoBjB,MAAM,CAACiB,EAA3B;AACA,eAAOjB,MAAM,CAACa,OAAd;AACD,OANc,CAAf;AAQAf,MAAAA,aAAa,CAAC;AACZC,QAAAA,IAAI,EAAEA,IADM;AAEZC,QAAAA,MAAM,EAAEA,MAFI;AAGZC,QAAAA,cAAc,EAAE;AAHJ,OAAD,CAAb;;AAKA,UAAIK,oBAAoB,KAAKY,SAA7B,EAAwC;AACtCpB,QAAAA,aAAa,CAAC;AACZC,UAAAA,IAAI,EAAEA,IADM;AAEZC,UAAAA,MAAM,EAAEA,MAFI;AAGZC,UAAAA,cAAc,EAAEK,oBAAoB,CAACL;AAHzB,SAAD,CAAb;AAKD;AACF,KAvBD,CAuBE,MAAM;AACNE,MAAAA,QAAQ,CAAC,yBAAD,CAAR;AACD,KAzBD,SAyBU;AACRE,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,GA7BD;;AA+BAf,EAAAA,SAAS,CAAC,MAAM;AACdkB,IAAAA,OAAO;AACR,GAFQ,EAEN,EAFM,CAAT;AAIA,QAAM;AAAET,IAAAA,IAAF;AAAQC,IAAAA,MAAR;AAAgBC,IAAAA;AAAhB,MAAmCJ,UAAzC;AAEA,SAAOO,OAAO,gBACZ,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADY,gBAGZ,oBAAC,eAAD;AACE,IAAA,IAAI,EAAEL,IADR;AAEE,IAAA,MAAM,EAAEC,MAFV;AAGE,IAAA,cAAc,EAAEC,cAHlB;AAIE,IAAA,KAAK,EAAEC,KAJT;AAKE,IAAA,OAAO,EAAEE,OALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF;AAWD,CA1DD;;AA4DA,eAAeR,eAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport BasketPresenter from './BasketPresenter';\nimport { usersApi } from 'api';\nimport Loader from 'Components/Loader';\nimport store from 'store';\n\nconst BasketContainer = () => {\n  const [basketData, setBasketData] = useState({\n    user: null,\n    basket: null,\n    basketObjectId: false,\n  });\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const basketObjectId_props = useLocation().state;\n  const getData = async () => {\n    try {\n      const { data: user } = await usersApi.user();\n      const { data } = await usersApi.basket(store.getState().user?.token);\n      const basket = data.map((basket) => {\n        basket.product.option = basket.option;\n        basket.product.qty = basket.qty;\n        basket.product.productId = basket.product.id;\n        basket.product.id = basket.id;\n        return basket.product;\n      });\n\n      setBasketData({\n        user: user,\n        basket: basket,\n        basketObjectId: false,\n      });\n      if (basketObjectId_props !== undefined) {\n        setBasketData({\n          user: user,\n          basket: basket,\n          basketObjectId: basketObjectId_props.basketObjectId,\n        });\n      }\n    } catch {\n      setError(\"Can't find basket items\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const { user, basket, basketObjectId } = basketData;\n\n  return loading ? (\n    <Loader />\n  ) : (\n    <BasketPresenter\n      user={user}\n      basket={basket}\n      basketObjectId={basketObjectId}\n      error={error}\n      loading={loading}\n    />\n  );\n};\n\nexport default BasketContainer;\n"]},"metadata":{},"sourceType":"module"}